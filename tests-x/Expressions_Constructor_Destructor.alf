/**
 * Test constructor and destructor expressions.
 **/
active class Expressions_Constructor_Destructor {

    // Supporting declarations *************************************************
    
  	class Customer { }
    class Monitor { 
       	@Destroy public destroy(in recoveryLog: Log) { }
    }
    class Log { }
   	class Employee { 
   	    @Create public Employee(in id: Integer, in name: String) { }
  		@Create public transferred(in employeeInfo: Employee) { }
   	}
   	
   	datatype D {
   	    public x: String;
   	    public y: Integer[];
   	}
  	
	//**************************************************************************

	test() {
	  
      i = 100;
      name = "Fred";

      employee = new Employee(i, name);
      new Employee::transferred(employee);
      customer = new Customer();
      monitor = new Monitor();
	  
      customer.destroy();
      new Monitor().destroy(new Log());
      
      new D("test", Integer[]{1,2});
	  
	}

} do {
    this.test();
}